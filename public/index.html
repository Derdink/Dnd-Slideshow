<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Photo Slideshow</title>
    <link rel="icon" href="/icons/favicon.ico" type="image/x-icon">
    <link rel="shortcut icon" href="/icons/favicon.ico" type="image/x-icon">
    <link rel="stylesheet" href="styles.css" />
    <link rel="manifest" href="manifest.json" />
</head>

<body>
    <div id="slideshow-container">
        <div class="image-container" id="slideshow">
            <img id="slide1" class="slide active" src="" alt="Slideshow Image" />
            <img id="slide2" class="slide" src="" alt="Slideshow Image" />
        </div>
        <!-- Title overlay container -->
        <div class="title-container">
            <div id="title-overlay1" class="title-overlay active"></div>
            <div id="title-overlay2" class="title-overlay"></div>
            <div id="subtitle-overlay1" class="subtitle-overlay active"></div>
            <div id="subtitle-overlay2" class="subtitle-overlay"></div>
        </div>
        <!-- Left hover area (removed onclick) -->
        <div class="hover-area left">
            <div class="nav-button">‹</div>
        </div>
        <!-- Right hover area (removed onclick) -->
        <div class="hover-area right">
            <div class="nav-button">›</div>
        </div>
    </div>

    <!-- Load Socket.IO first -->
    <script src="/socket.io/socket.io.js"></script>
    <!-- Load Refactored Socket Client -->
    <script src="socket-client.js"></script>
    <!-- Load Modules (Order Matters!) -->
    <script type="module" src="state.js"></script>
    <script type="module" src="api.js"></script>
    <script type="module" src="slideshow.js"></script>
    <!-- Load Main script (Initializes modules) -->
    <script type="module">
        import { initSlideshow } from './slideshow.js';
        // Import other init functions if needed (e.g., for manage page)
        
        document.addEventListener('DOMContentLoaded', () => {
            // Initialize modules based on the current page
            if (document.getElementById('slideshow-container')) {
                initSlideshow();
            }
            // Add initialization for other parts of the app here
            // e.g., if (document.getElementById('management')) { initManagementPage(); }
        });
    </script>
    <!-- PWA Service Worker -->
    <script src="sw-register.js"></script>

    <!-- REMOVED INLINE SOCKET HANDLERS -->

</body>

</html>